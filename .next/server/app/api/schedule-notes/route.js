/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/schedule-notes/route";
exports.ids = ["app/api/schedule-notes/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschedule-notes%2Froute&page=%2Fapi%2Fschedule-notes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschedule-notes%2Froute.ts&appDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschedule-notes%2Froute&page=%2Fapi%2Fschedule-notes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschedule-notes%2Froute.ts&appDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_reeceschlabach_Desktop_Timberline_Internal_app_api_schedule_notes_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/schedule-notes/route.ts */ \"(rsc)/./app/api/schedule-notes/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/schedule-notes/route\",\n        pathname: \"/api/schedule-notes\",\n        filename: \"route\",\n        bundlePath: \"app/api/schedule-notes/route\"\n    },\n    resolvedPagePath: \"/Users/reeceschlabach/Desktop/Timberline Internal/app/api/schedule-notes/route.ts\",\n    nextConfigOutput,\n    userland: _Users_reeceschlabach_Desktop_Timberline_Internal_app_api_schedule_notes_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/schedule-notes/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzY2hlZHVsZS1ub3RlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2NoZWR1bGUtbm90ZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzY2hlZHVsZS1ub3RlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJlZWNlc2NobGFiYWNoJTJGRGVza3RvcCUyRlRpbWJlcmxpbmUlMjBJbnRlcm5hbCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZyZWVjZXNjaGxhYmFjaCUyRkRlc2t0b3AlMkZUaW1iZXJsaW5lJTIwSW50ZXJuYWwmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDaUM7QUFDOUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aW1iZXJsaW5lLWxvZ2lzdGljcy1kYXNoYm9hcmQvPzcxMzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3JlZWNlc2NobGFiYWNoL0Rlc2t0b3AvVGltYmVybGluZSBJbnRlcm5hbC9hcHAvYXBpL3NjaGVkdWxlLW5vdGVzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zY2hlZHVsZS1ub3Rlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NjaGVkdWxlLW5vdGVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zY2hlZHVsZS1ub3Rlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9yZWVjZXNjaGxhYmFjaC9EZXNrdG9wL1RpbWJlcmxpbmUgSW50ZXJuYWwvYXBwL2FwaS9zY2hlZHVsZS1ub3Rlcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zY2hlZHVsZS1ub3Rlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschedule-notes%2Froute&page=%2Fapi%2Fschedule-notes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschedule-notes%2Froute.ts&appDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/schedule-notes/route.ts":
/*!*****************************************!*\
  !*** ./app/api/schedule-notes/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=addDays,format,subDays!=!date-fns */ \"(rsc)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var _barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=addDays,format,subDays!=!date-fns */ \"(rsc)/./node_modules/date-fns/subDays.mjs\");\n/* harmony import */ var _barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=addDays,format,subDays!=!date-fns */ \"(rsc)/./node_modules/date-fns/addDays.mjs\");\n\n\n\n\n\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        let startDate = searchParams.get(\"startDate\");\n        let endDate = searchParams.get(\"endDate\");\n        // If no dates provided, default to Â±30 days from today\n        if (!startDate || !endDate) {\n            const today = new Date();\n            startDate = (0,_barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_4__.format)((0,_barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_5__.subDays)(today, 30), \"yyyy-MM-dd\");\n            endDate = (0,_barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_4__.format)((0,_barrel_optimize_names_addDays_format_subDays_date_fns__WEBPACK_IMPORTED_MODULE_6__.addDays)(today, 30), \"yyyy-MM-dd\");\n        }\n        const notes = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.query)(`SELECT * FROM expanded_schedule_notes \n      WHERE note_date BETWEEN $1 AND $2 \n      ORDER BY note_date, created_at`, [\n            startDate,\n            endDate\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            notes: notes.rows\n        });\n    } catch (error) {\n        console.error(\"Error fetching schedule notes:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { content, start_date, end_date, is_recurring, recurrence_pattern, color } = body;\n        // Validate required fields\n        if (!start_date) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Start date is required\",\n                details: {\n                    start_date: !start_date\n                }\n            }, {\n                status: 400\n            });\n        }\n        // For recurring notes, end_date is required\n        if (is_recurring && !end_date) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"End date is required for recurring notes\"\n            }, {\n                status: 400\n            });\n        }\n        // Use the provided end_date if it exists, otherwise use start_date\n        const finalEndDate = end_date || start_date;\n        const result = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.query)(`INSERT INTO schedule_notes \n      (title, content, start_date, end_date, is_recurring, recurrence_pattern, color, created_by)\n      VALUES ($1, $2, $3, $4, $5, $6, $7, $8)\n      RETURNING *`, [\n            \"\",\n            content || \"\",\n            start_date,\n            finalEndDate,\n            is_recurring || false,\n            recurrence_pattern ? JSON.stringify(recurrence_pattern) : null,\n            color || \"#808080\",\n            session.user.id\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            note: result.rows[0]\n        });\n    } catch (error) {\n        console.error(\"Error creating schedule note:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\",\n            details: error instanceof Error ? error.message : String(error)\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { id, content, start_date, end_date, is_recurring, recurrence_pattern, color } = body;\n        // Validate required fields\n        if (!id || !start_date) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"ID and start date are required\",\n                details: {\n                    id: !id,\n                    start_date: !start_date\n                }\n            }, {\n                status: 400\n            });\n        }\n        // For recurring notes, end_date is required\n        if (is_recurring && !end_date) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"End date is required for recurring notes\"\n            }, {\n                status: 400\n            });\n        }\n        // Use the provided end_date if it exists, otherwise use start_date\n        const finalEndDate = end_date || start_date;\n        const result = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.query)(`UPDATE schedule_notes \n      SET title = $1, \n          content = $2, \n          start_date = $3, \n          end_date = $4, \n          is_recurring = $5, \n          recurrence_pattern = $6, \n          color = $7\n      WHERE id = $8 AND created_by = $9\n      RETURNING *`, [\n            \"\",\n            content || \"\",\n            start_date,\n            finalEndDate,\n            is_recurring || false,\n            recurrence_pattern ? JSON.stringify(recurrence_pattern) : null,\n            color || \"#808080\",\n            id,\n            session.user.id\n        ]);\n        if (result.rowCount === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Note not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            note: result.rows[0]\n        });\n    } catch (error) {\n        console.error(\"Error updating schedule note:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Note ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        const result = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.query)(`DELETE FROM schedule_notes \n      WHERE id = $1 AND created_by = $2 \n      RETURNING *`, [\n            id,\n            session.user.id\n        ]);\n        if (result.rowCount === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Note not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Error deleting schedule note:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NjaGVkdWxlLW5vdGVzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNFO0FBQ0o7QUFDUjtBQUNtQjtBQUU1QyxlQUFlTyxJQUFJQyxPQUFnQjtJQUN4QyxJQUFJO1FBQ0YsTUFBTUMsVUFBVSxNQUFNUiwyREFBZ0JBLENBQUNDLGtEQUFXQTtRQUNsRCxJQUFJLENBQUNPLFNBQVNDLE1BQU07WUFDbEIsT0FBT1Ysa0ZBQVlBLENBQUNXLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNwRTtRQUVBLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSVAsUUFBUVEsR0FBRztRQUM1QyxJQUFJQyxZQUFZSCxhQUFhSSxHQUFHLENBQUM7UUFDakMsSUFBSUMsVUFBVUwsYUFBYUksR0FBRyxDQUFDO1FBRS9CLHVEQUF1RDtRQUN2RCxJQUFJLENBQUNELGFBQWEsQ0FBQ0UsU0FBUztZQUMxQixNQUFNQyxRQUFRLElBQUlDO1lBQ2xCSixZQUFZWiw4RkFBTUEsQ0FBQ0MsK0ZBQU9BLENBQUNjLE9BQU8sS0FBSztZQUN2Q0QsVUFBVWQsOEZBQU1BLENBQUNELCtGQUFPQSxDQUFDZ0IsT0FBTyxLQUFLO1FBQ3ZDO1FBRUEsTUFBTUUsUUFBUSxNQUFNbkIsOENBQUtBLENBQ3ZCLENBQUM7O29DQUU2QixDQUFDLEVBQy9CO1lBQUNjO1lBQVdFO1NBQVE7UUFHdEIsT0FBT25CLGtGQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRVksU0FBUztZQUFNRCxPQUFPQSxNQUFNRSxJQUFJO1FBQUM7SUFDOUQsRUFBRSxPQUFPWixPQUFPO1FBQ2RhLFFBQVFiLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU9aLGtGQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGO0FBRU8sZUFBZWEsS0FB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eEIsQ0FBQzs7aUJBRVUsQ0FBQyxFQUNaO1lBQUNvQztZQUFJOUIsUUFBUUMsSUFBSSxDQUFDNkIsRUFBRTtTQUFDO1FBR3ZCLElBQUlILE9BQU9TLFFBQVEsS0FBSyxHQUFHO1lBQ3pCLE9BQU83QyxrRkFBWUEsQ0FBQ1csSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN0RTtRQUVBLE9BQU9iLGtGQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRVksU0FBUztRQUFLO0lBQzNDLEVBQUUsT0FBT1gsT0FBTztRQUNkYSxRQUFRYixLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPWixrRkFBWUEsQ0FBQ1csSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDN0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RpbWJlcmxpbmUtbG9naXN0aWNzLWRhc2hib2FyZC8uL2FwcC9hcGkvc2NoZWR1bGUtbm90ZXMvcm91dGUudHM/MDJmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tIFwiQC9saWIvYXV0aFwiXG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gXCJAL2xpYi9kYlwiXG5pbXBvcnQgeyBhZGREYXlzLCBmb3JtYXQsIHN1YkRheXMgfSBmcm9tIFwiZGF0ZS1mbnNcIlxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBsZXQgc3RhcnREYXRlID0gc2VhcmNoUGFyYW1zLmdldChcInN0YXJ0RGF0ZVwiKVxuICAgIGxldCBlbmREYXRlID0gc2VhcmNoUGFyYW1zLmdldChcImVuZERhdGVcIilcblxuICAgIC8vIElmIG5vIGRhdGVzIHByb3ZpZGVkLCBkZWZhdWx0IHRvIMKxMzAgZGF5cyBmcm9tIHRvZGF5XG4gICAgaWYgKCFzdGFydERhdGUgfHwgIWVuZERhdGUpIHtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgc3RhcnREYXRlID0gZm9ybWF0KHN1YkRheXModG9kYXksIDMwKSwgJ3l5eXktTU0tZGQnKVxuICAgICAgZW5kRGF0ZSA9IGZvcm1hdChhZGREYXlzKHRvZGF5LCAzMCksICd5eXl5LU1NLWRkJylcbiAgICB9XG5cbiAgICBjb25zdCBub3RlcyA9IGF3YWl0IHF1ZXJ5KFxuICAgICAgYFNFTEVDVCAqIEZST00gZXhwYW5kZWRfc2NoZWR1bGVfbm90ZXMgXG4gICAgICBXSEVSRSBub3RlX2RhdGUgQkVUV0VFTiAkMSBBTkQgJDIgXG4gICAgICBPUkRFUiBCWSBub3RlX2RhdGUsIGNyZWF0ZWRfYXRgLFxuICAgICAgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV1cbiAgICApXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBub3Rlczogbm90ZXMucm93cyB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBzY2hlZHVsZSBub3RlczpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IGNvbnRlbnQsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBpc19yZWN1cnJpbmcsIHJlY3VycmVuY2VfcGF0dGVybiwgY29sb3IgfSA9IGJvZHlcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghc3RhcnRfZGF0ZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiBcIlN0YXJ0IGRhdGUgaXMgcmVxdWlyZWRcIixcbiAgICAgICAgZGV0YWlsczogeyBzdGFydF9kYXRlOiAhc3RhcnRfZGF0ZSB9XG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgLy8gRm9yIHJlY3VycmluZyBub3RlcywgZW5kX2RhdGUgaXMgcmVxdWlyZWRcbiAgICBpZiAoaXNfcmVjdXJyaW5nICYmICFlbmRfZGF0ZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiBcIkVuZCBkYXRlIGlzIHJlcXVpcmVkIGZvciByZWN1cnJpbmcgbm90ZXNcIiBcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBVc2UgdGhlIHByb3ZpZGVkIGVuZF9kYXRlIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHVzZSBzdGFydF9kYXRlXG4gICAgY29uc3QgZmluYWxFbmREYXRlID0gZW5kX2RhdGUgfHwgc3RhcnRfZGF0ZVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICBgSU5TRVJUIElOVE8gc2NoZWR1bGVfbm90ZXMgXG4gICAgICAodGl0bGUsIGNvbnRlbnQsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBpc19yZWN1cnJpbmcsIHJlY3VycmVuY2VfcGF0dGVybiwgY29sb3IsIGNyZWF0ZWRfYnkpXG4gICAgICBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOClcbiAgICAgIFJFVFVSTklORyAqYCxcbiAgICAgIFtcbiAgICAgICAgXCJcIiwgLy8gRW1wdHkgdGl0bGUgc2luY2Ugd2Ugbm8gbG9uZ2VyIHVzZSBpdFxuICAgICAgICBjb250ZW50IHx8IFwiXCIsIFxuICAgICAgICBzdGFydF9kYXRlLCBcbiAgICAgICAgZmluYWxFbmREYXRlLFxuICAgICAgICBpc19yZWN1cnJpbmcgfHwgZmFsc2UsXG4gICAgICAgIHJlY3VycmVuY2VfcGF0dGVybiA/IEpTT04uc3RyaW5naWZ5KHJlY3VycmVuY2VfcGF0dGVybikgOiBudWxsLFxuICAgICAgICBjb2xvciB8fCBcIiM4MDgwODBcIixcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkXG4gICAgICBdXG4gICAgKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbm90ZTogcmVzdWx0LnJvd3NbMF0gfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2NoZWR1bGUgbm90ZTpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIixcbiAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IGlkLCBjb250ZW50LCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwgaXNfcmVjdXJyaW5nLCByZWN1cnJlbmNlX3BhdHRlcm4sIGNvbG9yIH0gPSBib2R5XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIWlkIHx8ICFzdGFydF9kYXRlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgZXJyb3I6IFwiSUQgYW5kIHN0YXJ0IGRhdGUgYXJlIHJlcXVpcmVkXCIsXG4gICAgICAgIGRldGFpbHM6IHsgaWQ6ICFpZCwgc3RhcnRfZGF0ZTogIXN0YXJ0X2RhdGUgfVxuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIC8vIEZvciByZWN1cnJpbmcgbm90ZXMsIGVuZF9kYXRlIGlzIHJlcXVpcmVkXG4gICAgaWYgKGlzX3JlY3VycmluZyAmJiAhZW5kX2RhdGUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICBlcnJvcjogXCJFbmQgZGF0ZSBpcyByZXF1aXJlZCBmb3IgcmVjdXJyaW5nIG5vdGVzXCIgXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZSBwcm92aWRlZCBlbmRfZGF0ZSBpZiBpdCBleGlzdHMsIG90aGVyd2lzZSB1c2Ugc3RhcnRfZGF0ZVxuICAgIGNvbnN0IGZpbmFsRW5kRGF0ZSA9IGVuZF9kYXRlIHx8IHN0YXJ0X2RhdGVcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxuICAgICAgYFVQREFURSBzY2hlZHVsZV9ub3RlcyBcbiAgICAgIFNFVCB0aXRsZSA9ICQxLCBcbiAgICAgICAgICBjb250ZW50ID0gJDIsIFxuICAgICAgICAgIHN0YXJ0X2RhdGUgPSAkMywgXG4gICAgICAgICAgZW5kX2RhdGUgPSAkNCwgXG4gICAgICAgICAgaXNfcmVjdXJyaW5nID0gJDUsIFxuICAgICAgICAgIHJlY3VycmVuY2VfcGF0dGVybiA9ICQ2LCBcbiAgICAgICAgICBjb2xvciA9ICQ3XG4gICAgICBXSEVSRSBpZCA9ICQ4IEFORCBjcmVhdGVkX2J5ID0gJDlcbiAgICAgIFJFVFVSTklORyAqYCxcbiAgICAgIFtcbiAgICAgICAgXCJcIiwgLy8gRW1wdHkgdGl0bGUgc2luY2Ugd2Ugbm8gbG9uZ2VyIHVzZSBpdFxuICAgICAgICBjb250ZW50IHx8IFwiXCIsIFxuICAgICAgICBzdGFydF9kYXRlLCBcbiAgICAgICAgZmluYWxFbmREYXRlLFxuICAgICAgICBpc19yZWN1cnJpbmcgfHwgZmFsc2UsXG4gICAgICAgIHJlY3VycmVuY2VfcGF0dGVybiA/IEpTT04uc3RyaW5naWZ5KHJlY3VycmVuY2VfcGF0dGVybikgOiBudWxsLFxuICAgICAgICBjb2xvciB8fCBcIiM4MDgwODBcIixcbiAgICAgICAgaWQsXG4gICAgICAgIHNlc3Npb24udXNlci5pZFxuICAgICAgXVxuICAgIClcblxuICAgIGlmIChyZXN1bHQucm93Q291bnQgPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk5vdGUgbm90IGZvdW5kXCIgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG5vdGU6IHJlc3VsdC5yb3dzWzBdIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHNjaGVkdWxlIG5vdGU6XCIsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBpZCA9IHNlYXJjaFBhcmFtcy5nZXQoXCJpZFwiKVxuXG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiTm90ZSBJRCBpcyByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgIGBERUxFVEUgRlJPTSBzY2hlZHVsZV9ub3RlcyBcbiAgICAgIFdIRVJFIGlkID0gJDEgQU5EIGNyZWF0ZWRfYnkgPSAkMiBcbiAgICAgIFJFVFVSTklORyAqYCxcbiAgICAgIFtpZCwgc2Vzc2lvbi51c2VyLmlkXVxuICAgIClcblxuICAgIGlmIChyZXN1bHQucm93Q291bnQgPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk5vdGUgbm90IGZvdW5kXCIgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc2NoZWR1bGUgbm90ZTpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJxdWVyeSIsImFkZERheXMiLCJmb3JtYXQiLCJzdWJEYXlzIiwiR0VUIiwicmVxdWVzdCIsInNlc3Npb24iLCJ1c2VyIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwic3RhcnREYXRlIiwiZ2V0IiwiZW5kRGF0ZSIsInRvZGF5IiwiRGF0ZSIsIm5vdGVzIiwic3VjY2VzcyIsInJvd3MiLCJjb25zb2xlIiwiUE9TVCIsImJvZHkiLCJjb250ZW50Iiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwiaXNfcmVjdXJyaW5nIiwicmVjdXJyZW5jZV9wYXR0ZXJuIiwiY29sb3IiLCJkZXRhaWxzIiwiZmluYWxFbmREYXRlIiwicmVzdWx0IiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwibm90ZSIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsIlBVVCIsInJvd0NvdW50IiwiREVMRVRFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/schedule-notes/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   getSession: () => (/* binding */ getSession)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                username: {\n                    label: \"Username\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.username || !credentials?.password) {\n                    return null;\n                }\n                try {\n                    // Find user by username\n                    const result = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT id, username, password_hash, full_name, role FROM users WHERE username = $1 AND is_active = true\", [\n                        credentials.username\n                    ]);\n                    const user = result.rows[0];\n                    if (!user) {\n                        return null;\n                    }\n                    // Verify password\n                    const isValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compare(credentials.password, user.password_hash);\n                    if (!isValid) {\n                        return null;\n                    }\n                    // Return user data (excluding password)\n                    return {\n                        id: user.id,\n                        username: user.username,\n                        name: user.full_name,\n                        role: user.role\n                    };\n                } catch (error) {\n                    console.error(\"Error in auth:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 24 * 60 * 60\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\",\n        error: \"/auth/error\"\n    }\n};\n// Basic auth helper for development\nasync function getSession() {\n    // TODO: Implement proper authentication\n    return {\n        user: {\n            id: 1,\n            name: \"Development User\",\n            email: \"dev@example.com\"\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDa0U7QUFDakM7QUFDSDtBQUV2QixNQUFNRyxjQUErQjtJQUMxQ0MsV0FBVztRQUNUSiwyRUFBbUJBLENBQUM7WUFDbEJLLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsVUFBVTtvQkFBRUMsT0FBTztvQkFBWUMsTUFBTTtnQkFBTztnQkFDNUNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJLENBQUNBLGFBQWFDLFlBQVksQ0FBQ0QsYUFBYUksVUFBVTtvQkFDcEQsT0FBTztnQkFDVDtnQkFFQSxJQUFJO29CQUNGLHdCQUF3QjtvQkFDeEIsTUFBTUUsU0FBUyxNQUFNWCw4Q0FBS0EsQ0FDeEIsMkdBQ0E7d0JBQUNLLFlBQVlDLFFBQVE7cUJBQUM7b0JBR3hCLE1BQU1NLE9BQU9ELE9BQU9FLElBQUksQ0FBQyxFQUFFO29CQUUzQixJQUFJLENBQUNELE1BQU07d0JBQ1QsT0FBTztvQkFDVDtvQkFFQSxrQkFBa0I7b0JBQ2xCLE1BQU1FLFVBQVUsTUFBTWIsdURBQWMsQ0FBQ0ksWUFBWUksUUFBUSxFQUFFRyxLQUFLSSxhQUFhO29CQUU3RSxJQUFJLENBQUNGLFNBQVM7d0JBQ1osT0FBTztvQkFDVDtvQkFFQSx3Q0FBd0M7b0JBQ3hDLE9BQU87d0JBQ0xHLElBQUlMLEtBQUtLLEVBQUU7d0JBQ1hYLFVBQVVNLEtBQUtOLFFBQVE7d0JBQ3ZCRixNQUFNUSxLQUFLTSxTQUFTO3dCQUNwQkMsTUFBTVAsS0FBS08sSUFBSTtvQkFDakI7Z0JBQ0YsRUFBRSxPQUFPQyxPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsa0JBQWtCQTtvQkFDaEMsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7S0FDRDtJQUNERSxTQUFTO1FBQ1BDLFVBQVU7UUFDVkMsUUFBUSxLQUFLLEtBQUs7SUFDcEI7SUFDQUMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFZixJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUmUsTUFBTVYsRUFBRSxHQUFHTCxLQUFLSyxFQUFFO2dCQUNsQlUsTUFBTVIsSUFBSSxHQUFHUCxLQUFLTyxJQUFJO1lBQ3hCO1lBQ0EsT0FBT1E7UUFDVDtRQUNBLE1BQU1MLFNBQVEsRUFBRUEsT0FBTyxFQUFFSyxLQUFLLEVBQUU7WUFDOUIsSUFBSUEsT0FBTztnQkFDVEwsUUFBUVYsSUFBSSxDQUFDSyxFQUFFLEdBQUdVLE1BQU1WLEVBQUU7Z0JBQzFCSyxRQUFRVixJQUFJLENBQUNPLElBQUksR0FBR1EsTUFBTVIsSUFBSTtZQUNoQztZQUNBLE9BQU9HO1FBQ1Q7SUFDRjtJQUNBTSxPQUFPO1FBQ0xDLFFBQVE7UUFDUlQsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLG9DQUFvQztBQUM3QixlQUFlVTtJQUNwQix3Q0FBd0M7SUFDeEMsT0FBTztRQUNMbEIsTUFBTTtZQUNKSyxJQUFJO1lBQ0piLE1BQU07WUFDTjJCLE9BQU87UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aW1iZXJsaW5lLWxvZ2lzdGljcy1kYXNoYm9hcmQvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSAnQC9saWIvZGInO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6ICdDcmVkZW50aWFscycsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICB1c2VybmFtZTogeyBsYWJlbDogXCJVc2VybmFtZVwiLCB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy51c2VybmFtZSB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpbmQgdXNlciBieSB1c2VybmFtZVxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxuICAgICAgICAgICAgJ1NFTEVDVCBpZCwgdXNlcm5hbWUsIHBhc3N3b3JkX2hhc2gsIGZ1bGxfbmFtZSwgcm9sZSBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gJDEgQU5EIGlzX2FjdGl2ZSA9IHRydWUnLFxuICAgICAgICAgICAgW2NyZWRlbnRpYWxzLnVzZXJuYW1lXVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0LnJvd3NbMF07XG5cbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFZlcmlmeSBwYXNzd29yZFxuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZF9oYXNoKTtcblxuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmV0dXJuIHVzZXIgZGF0YSAoZXhjbHVkaW5nIHBhc3N3b3JkKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgbmFtZTogdXNlci5mdWxsX25hbWUsXG4gICAgICAgICAgICByb2xlOiB1c2VyLnJvbGVcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGF1dGg6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgXSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiAnand0JyxcbiAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCwgLy8gMjQgaG91cnNcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xuICAgICAgICB0b2tlbi5yb2xlID0gdXNlci5yb2xlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZDtcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9hdXRoL3NpZ25pbicsXG4gICAgZXJyb3I6ICcvYXV0aC9lcnJvcicsXG4gIH1cbn07XG5cbi8vIEJhc2ljIGF1dGggaGVscGVyIGZvciBkZXZlbG9wbWVudFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb24oKSB7XG4gIC8vIFRPRE86IEltcGxlbWVudCBwcm9wZXIgYXV0aGVudGljYXRpb25cbiAgcmV0dXJuIHtcbiAgICB1c2VyOiB7XG4gICAgICBpZDogMSxcbiAgICAgIG5hbWU6ICdEZXZlbG9wbWVudCBVc2VyJyxcbiAgICAgIGVtYWlsOiAnZGV2QGV4YW1wbGUuY29tJ1xuICAgIH1cbiAgfTtcbn0gIl0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJxdWVyeSIsImJjcnlwdCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwidXNlcm5hbWUiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInJlc3VsdCIsInVzZXIiLCJyb3dzIiwiaXNWYWxpZCIsImNvbXBhcmUiLCJwYXNzd29yZF9oYXNoIiwiaWQiLCJmdWxsX25hbWUiLCJyb2xlIiwiZXJyb3IiLCJjb25zb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJwYWdlcyIsInNpZ25JbiIsImdldFNlc3Npb24iLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDatabaseConnection: () => (/* binding */ checkDatabaseConnection),\n/* harmony export */   closePool: () => (/* binding */ closePool),\n/* harmony export */   dbQuery: () => (/* binding */ dbQuery),\n/* harmony export */   getClient: () => (/* reexport safe */ _db_index__WEBPACK_IMPORTED_MODULE_1__.getClient),\n/* harmony export */   getPool: () => (/* binding */ getPool),\n/* harmony export */   query: () => (/* reexport safe */ _db_index__WEBPACK_IMPORTED_MODULE_1__.query),\n/* harmony export */   sql: () => (/* reexport safe */ _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql),\n/* harmony export */   withTransaction: () => (/* reexport safe */ _db_index__WEBPACK_IMPORTED_MODULE_1__.withTransaction)\n/* harmony export */ });\n/* harmony import */ var _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/postgres */ \"(rsc)/./node_modules/@vercel/postgres/dist/index-node.js\");\n/* harmony import */ var _db_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db/index */ \"(rsc)/./lib/db/index.ts\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nlet pool = null;\n// Parse connection string to explicit config\nfunction parseConnectionString(connectionString) {\n    try {\n        const url = new URL(connectionString);\n        return {\n            user: url.username,\n            password: url.password,\n            host: url.hostname,\n            port: Number(url.port) || 5432,\n            database: url.pathname.slice(1),\n            ssl: true\n        };\n    } catch (error) {\n        console.error(\"Error parsing connection string:\", error);\n        throw error;\n    }\n}\n// Database configuration\nconst config = {\n    preview: parseConnectionString(\"postgresql://neondb_owner:npg_D5hj1egPlAok@ep-proud-glitter-a85pbrz6-pooler.eastus2.azure.neon.tech/neondb?sslmode=require\"),\n    main: parseConnectionString(\"postgresql://neondb_owner:npg_D5hj1egPlAok@ep-calm-frog-a8qxyo8o-pooler.eastus2.azure.neon.tech/neondb?sslmode=require\")\n};\n// Determine which database branch to use based on environment\nconst isProduction = \"development\" === \"production\";\nconst branch = isProduction ? \"main\" : \"preview\";\nfunction getPool() {\n    if (!pool) {\n        const branchConfig = config[branch];\n        pool = new pg__WEBPACK_IMPORTED_MODULE_2__.Pool({\n            ...branchConfig,\n            ssl: {\n                rejectUnauthorized: true\n            }\n        });\n        // Handle pool errors\n        pool.on(\"error\", (err)=>{\n            console.error(\"Unexpected error on idle client\", err);\n            // Reset pool on error\n            pool = null;\n        });\n        // Add connection logging\n        pool.on(\"connect\", ()=>{\n            console.log(\"New database connection established\");\n        });\n        pool.on(\"acquire\", ()=>{\n            console.log(\"Client acquired from pool\");\n        });\n        pool.on(\"remove\", ()=>{\n            console.log(\"Client removed from pool\");\n        });\n    }\n    return pool;\n}\nasync function dbQuery(text, params) {\n    const pool = getPool();\n    const client = await pool.connect();\n    try {\n        return await client.query(text, params);\n    } finally{\n        client.release();\n    }\n}\n// Clean up function for tests\nasync function closePool() {\n    if (pool) {\n        await pool.end();\n        pool = null;\n    }\n}\n// Helper function to check database connection\nasync function checkDatabaseConnection() {\n    try {\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`SELECT 1`;\n        return true;\n    } catch (error) {\n        console.error(\"Database connection error:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ3dCO0FBQ3JDO0FBRXdCO0FBRWpELElBQUlLLE9BQW9CO0FBRXhCLDZDQUE2QztBQUM3QyxTQUFTQyxzQkFBc0JDLGdCQUF3QjtJQUNyRCxJQUFJO1FBQ0YsTUFBTUMsTUFBTSxJQUFJQyxJQUFJRjtRQUNwQixPQUFPO1lBQ0xHLE1BQU1GLElBQUlHLFFBQVE7WUFDbEJDLFVBQVVKLElBQUlJLFFBQVE7WUFDdEJDLE1BQU1MLElBQUlNLFFBQVE7WUFDbEJDLE1BQU1DLE9BQU9SLElBQUlPLElBQUksS0FBSztZQUMxQkUsVUFBVVQsSUFBSVUsUUFBUSxDQUFDQyxLQUFLLENBQUM7WUFDN0JDLEtBQUs7UUFDUDtJQUNGLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCxNQUFNQTtJQUNSO0FBQ0Y7QUFFQSx5QkFBeUI7QUFDekIsTUFBTUUsU0FBUztJQUNiQyxTQUFTbEIsc0JBQXNCO0lBQy9CbUIsTUFBTW5CLHNCQUFzQjtBQUM5QjtBQUVBLDhEQUE4RDtBQUM5RCxNQUFNb0IsZUFBZUMsa0JBQXlCO0FBQzlDLE1BQU1DLFNBQVNGLGVBQWUsU0FBUztBQUVoQyxTQUFTRztJQUNkLElBQUksQ0FBQ3hCLE1BQU07UUFDVCxNQUFNeUIsZUFBZVAsTUFBTSxDQUFDSyxPQUFPO1FBQ25DdkIsT0FBTyxJQUFJRCxvQ0FBSUEsQ0FBQztZQUNkLEdBQUcwQixZQUFZO1lBQ2ZWLEtBQUs7Z0JBQ0hXLG9CQUFvQjtZQUN0QjtRQUNGO1FBRUEscUJBQXFCO1FBQ3JCMUIsS0FBSzJCLEVBQUUsQ0FBQyxTQUFTLENBQUNDO1lBQ2hCWCxRQUFRRCxLQUFLLENBQUMsbUNBQW1DWTtZQUNqRCxzQkFBc0I7WUFDdEI1QixPQUFPO1FBQ1Q7UUFFQSx5QkFBeUI7UUFDekJBLEtBQUsyQixFQUFFLENBQUMsV0FBVztZQUNqQlYsUUFBUVksR0FBRyxDQUFDO1FBQ2Q7UUFFQTdCLEtBQUsyQixFQUFFLENBQUMsV0FBVztZQUNqQlYsUUFBUVksR0FBRyxDQUFDO1FBQ2Q7UUFFQTdCLEtBQUsyQixFQUFFLENBQUMsVUFBVTtZQUNoQlYsUUFBUVksR0FBRyxDQUFDO1FBQ2Q7SUFDRjtJQUNBLE9BQU83QjtBQUNUO0FBRU8sZUFBZThCLFFBQVFDLElBQVksRUFBRUMsTUFBYztJQUN4RCxNQUFNaEMsT0FBT3dCO0lBQ2IsTUFBTVMsU0FBUyxNQUFNakMsS0FBS2tDLE9BQU87SUFDakMsSUFBSTtRQUNGLE9BQU8sTUFBTUQsT0FBT3JDLEtBQUssQ0FBQ21DLE1BQU1DO0lBQ2xDLFNBQVU7UUFDUkMsT0FBT0UsT0FBTztJQUNoQjtBQUNGO0FBRUEsOEJBQThCO0FBQ3ZCLGVBQWVDO0lBQ3BCLElBQUlwQyxNQUFNO1FBQ1IsTUFBTUEsS0FBS3FDLEdBQUc7UUFDZHJDLE9BQU87SUFDVDtBQUNGO0FBRUEsK0NBQStDO0FBQ3hDLGVBQWVzQztJQUNwQixJQUFJO1FBQ0YsTUFBTTNDLGlEQUFHLENBQUMsUUFBUSxDQUFDO1FBQ25CLE9BQU87SUFDVCxFQUFFLE9BQU9xQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGltYmVybGluZS1sb2dpc3RpY3MtZGFzaGJvYXJkLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3FsIH0gZnJvbSAnQHZlcmNlbC9wb3N0Z3JlcydcbmltcG9ydCB7IHF1ZXJ5LCBnZXRDbGllbnQsIHdpdGhUcmFuc2FjdGlvbiB9IGZyb20gJy4vZGIvaW5kZXgnXG5pbXBvcnQgeyBQb29sIH0gZnJvbSAncGcnXG5cbmV4cG9ydCB7IHNxbCwgcXVlcnksIGdldENsaWVudCwgd2l0aFRyYW5zYWN0aW9uIH1cblxubGV0IHBvb2w6IFBvb2wgfCBudWxsID0gbnVsbFxuXG4vLyBQYXJzZSBjb25uZWN0aW9uIHN0cmluZyB0byBleHBsaWNpdCBjb25maWdcbmZ1bmN0aW9uIHBhcnNlQ29ubmVjdGlvblN0cmluZyhjb25uZWN0aW9uU3RyaW5nOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGNvbm5lY3Rpb25TdHJpbmcpXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IHVybC51c2VybmFtZSxcbiAgICAgIHBhc3N3b3JkOiB1cmwucGFzc3dvcmQsXG4gICAgICBob3N0OiB1cmwuaG9zdG5hbWUsXG4gICAgICBwb3J0OiBOdW1iZXIodXJsLnBvcnQpIHx8IDU0MzIsXG4gICAgICBkYXRhYmFzZTogdXJsLnBhdGhuYW1lLnNsaWNlKDEpLFxuICAgICAgc3NsOiB0cnVlXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgY29ubmVjdGlvbiBzdHJpbmc6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG4vLyBEYXRhYmFzZSBjb25maWd1cmF0aW9uXG5jb25zdCBjb25maWcgPSB7XG4gIHByZXZpZXc6IHBhcnNlQ29ubmVjdGlvblN0cmluZyhcInBvc3RncmVzcWw6Ly9uZW9uZGJfb3duZXI6bnBnX0Q1aGoxZWdQbEFva0BlcC1wcm91ZC1nbGl0dGVyLWE4NXBicno2LXBvb2xlci5lYXN0dXMyLmF6dXJlLm5lb24udGVjaC9uZW9uZGI/c3NsbW9kZT1yZXF1aXJlXCIpLFxuICBtYWluOiBwYXJzZUNvbm5lY3Rpb25TdHJpbmcoXCJwb3N0Z3Jlc3FsOi8vbmVvbmRiX293bmVyOm5wZ19ENWhqMWVnUGxBb2tAZXAtY2FsbS1mcm9nLWE4cXh5bzhvLXBvb2xlci5lYXN0dXMyLmF6dXJlLm5lb24udGVjaC9uZW9uZGI/c3NsbW9kZT1yZXF1aXJlXCIpXG59XG5cbi8vIERldGVybWluZSB3aGljaCBkYXRhYmFzZSBicmFuY2ggdG8gdXNlIGJhc2VkIG9uIGVudmlyb25tZW50XG5jb25zdCBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nXG5jb25zdCBicmFuY2ggPSBpc1Byb2R1Y3Rpb24gPyAnbWFpbicgOiAncHJldmlldydcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2woKSB7XG4gIGlmICghcG9vbCkge1xuICAgIGNvbnN0IGJyYW5jaENvbmZpZyA9IGNvbmZpZ1ticmFuY2hdXG4gICAgcG9vbCA9IG5ldyBQb29sKHtcbiAgICAgIC4uLmJyYW5jaENvbmZpZyxcbiAgICAgIHNzbDoge1xuICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSGFuZGxlIHBvb2wgZXJyb3JzXG4gICAgcG9vbC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIG9uIGlkbGUgY2xpZW50JywgZXJyKVxuICAgICAgLy8gUmVzZXQgcG9vbCBvbiBlcnJvclxuICAgICAgcG9vbCA9IG51bGxcbiAgICB9KVxuXG4gICAgLy8gQWRkIGNvbm5lY3Rpb24gbG9nZ2luZ1xuICAgIHBvb2wub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnTmV3IGRhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnKVxuICAgIH0pXG5cbiAgICBwb29sLm9uKCdhY3F1aXJlJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NsaWVudCBhY3F1aXJlZCBmcm9tIHBvb2wnKVxuICAgIH0pXG5cbiAgICBwb29sLm9uKCdyZW1vdmUnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnQ2xpZW50IHJlbW92ZWQgZnJvbSBwb29sJylcbiAgICB9KVxuICB9XG4gIHJldHVybiBwb29sXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYlF1ZXJ5KHRleHQ6IHN0cmluZywgcGFyYW1zPzogYW55W10pIHtcbiAgY29uc3QgcG9vbCA9IGdldFBvb2woKVxuICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBjbGllbnQucXVlcnkodGV4dCwgcGFyYW1zKVxuICB9IGZpbmFsbHkge1xuICAgIGNsaWVudC5yZWxlYXNlKClcbiAgfVxufVxuXG4vLyBDbGVhbiB1cCBmdW5jdGlvbiBmb3IgdGVzdHNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZVBvb2woKSB7XG4gIGlmIChwb29sKSB7XG4gICAgYXdhaXQgcG9vbC5lbmQoKVxuICAgIHBvb2wgPSBudWxsXG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGRhdGFiYXNlIGNvbm5lY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0RhdGFiYXNlQ29ubmVjdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzcWxgU0VMRUNUIDFgXG4gICAgcmV0dXJuIHRydWVcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBmYWxzZVxuICB9XG59ICJdLCJuYW1lcyI6WyJzcWwiLCJxdWVyeSIsImdldENsaWVudCIsIndpdGhUcmFuc2FjdGlvbiIsIlBvb2wiLCJwb29sIiwicGFyc2VDb25uZWN0aW9uU3RyaW5nIiwiY29ubmVjdGlvblN0cmluZyIsInVybCIsIlVSTCIsInVzZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiaG9zdCIsImhvc3RuYW1lIiwicG9ydCIsIk51bWJlciIsImRhdGFiYXNlIiwicGF0aG5hbWUiLCJzbGljZSIsInNzbCIsImVycm9yIiwiY29uc29sZSIsImNvbmZpZyIsInByZXZpZXciLCJtYWluIiwiaXNQcm9kdWN0aW9uIiwicHJvY2VzcyIsImJyYW5jaCIsImdldFBvb2wiLCJicmFuY2hDb25maWciLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJvbiIsImVyciIsImxvZyIsImRiUXVlcnkiLCJ0ZXh0IiwicGFyYW1zIiwiY2xpZW50IiwiY29ubmVjdCIsInJlbGVhc2UiLCJjbG9zZVBvb2wiLCJlbmQiLCJjaGVja0RhdGFiYXNlQ29ubmVjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/index.ts":
/*!*************************!*\
  !*** ./lib/db/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getClient: () => (/* binding */ getClient),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   withTransaction: () => (/* binding */ withTransaction)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n\n// Parse connection string to explicit config\nfunction parseConnectionString(connectionString) {\n    try {\n        const url = new URL(connectionString);\n        return {\n            user: url.username,\n            password: url.password,\n            host: url.hostname,\n            port: Number(url.port) || 5432,\n            database: url.pathname.slice(1),\n            ssl: true\n        };\n    } catch (error) {\n        console.error(\"Error parsing connection string:\", error);\n        throw error;\n    }\n}\n// Database configuration\nconst config = {\n    preview: parseConnectionString(\"postgresql://neondb_owner:npg_D5hj1egPlAok@ep-proud-glitter-a85pbrz6-pooler.eastus2.azure.neon.tech/neondb?sslmode=require\"),\n    main: parseConnectionString(\"postgresql://neondb_owner:npg_D5hj1egPlAok@ep-calm-frog-a8qxyo8o-pooler.eastus2.azure.neon.tech/neondb?sslmode=require\")\n};\n// Determine which database branch to use based on environment\nconst isProduction = \"development\" === \"production\";\nconst branch = isProduction ? \"main\" : \"preview\";\nconsole.log(`Using database branch: ${branch}`);\nconsole.log(\"Database config:\", {\n    host: config[branch].host,\n    port: config[branch].port,\n    database: config[branch].database,\n    user: config[branch].user,\n    // password is masked for security\n    ssl: config[branch].ssl\n});\n// Connection pool settings\nconst CONNECTION_TIMEOUT_MS = 10000;\nconst IDLE_TIMEOUT_MS = 30000;\nconst MAX_POOL_SIZE = 20;\nconst CONNECTION_RETRY_ATTEMPTS = 3;\nconst CONNECTION_RETRY_DELAY_MS = 1000;\n// Create a connection pool with enhanced settings\nlet pool = null;\n// Migration SQL\nconst MIGRATIONS = [\n    `\n  -- Fix stack columns in trailer_layout_items\n  ALTER TABLE trailer_layout_items\n  DROP CONSTRAINT IF EXISTS fk_trailer_layout_items_stack;\n\n  ALTER TABLE trailer_layout_items\n  DROP CONSTRAINT IF EXISTS check_stack_position;\n\n  ALTER TABLE trailer_layout_items\n  DROP CONSTRAINT IF EXISTS check_stack_id_vinyl;\n\n  -- Ensure the columns exist with correct types\n  ALTER TABLE trailer_layout_items\n  DROP COLUMN IF EXISTS stack_id;\n\n  ALTER TABLE trailer_layout_items\n  DROP COLUMN IF EXISTS stack_position;\n\n  ALTER TABLE trailer_layout_items\n  ADD COLUMN stack_id INTEGER,\n  ADD COLUMN stack_position INTEGER;\n\n  -- Add index for stack-related queries\n  DROP INDEX IF EXISTS idx_layout_items_stack;\n  CREATE INDEX idx_layout_items_stack ON trailer_layout_items(stack_id, stack_position);\n\n  -- Add constraint to ensure stack_position is positive when present\n  ALTER TABLE trailer_layout_items\n  ADD CONSTRAINT check_stack_position \n  CHECK (stack_position IS NULL OR stack_position > 0);\n\n  -- Add constraint to ensure stack_id and stack_position are used together\n  ALTER TABLE trailer_layout_items\n  ADD CONSTRAINT check_stack_consistency\n  CHECK (\n      (stack_id IS NULL AND stack_position IS NULL) OR\n      (stack_id IS NOT NULL AND stack_position IS NOT NULL)\n  );\n  `\n];\nasync function runMigrations(pool) {\n    try {\n        console.log(\"Running database migrations...\");\n        for (const migration of MIGRATIONS){\n            await pool.query(migration);\n        }\n        console.log(\"Database migrations completed successfully\");\n    } catch (error) {\n        console.error(\"Error running migrations:\", error);\n        throw error;\n    }\n}\nfunction createPool() {\n    if (pool) return pool;\n    try {\n        const branchConfig = config[branch];\n        if (!branchConfig) {\n            throw new Error(`No configuration found for branch: ${branch}`);\n        }\n        pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n            ...branchConfig,\n            connectionTimeoutMillis: CONNECTION_TIMEOUT_MS,\n            idleTimeoutMillis: IDLE_TIMEOUT_MS,\n            max: MAX_POOL_SIZE,\n            // Force SSL mode\n            ssl: {\n                rejectUnauthorized: true\n            }\n        });\n        // Handle pool errors\n        pool.on(\"error\", (err)=>{\n            console.error(\"Unexpected error on idle client\", err);\n            // Reset pool on error\n            pool = null;\n        });\n        // Add connection logging\n        pool.on(\"connect\", ()=>{\n            console.log(\"New database connection established\");\n        });\n        pool.on(\"acquire\", ()=>{\n            console.log(\"Client acquired from pool\");\n        });\n        pool.on(\"remove\", ()=>{\n            console.log(\"Client removed from pool\");\n        });\n        // Run migrations\n        runMigrations(pool).catch((error)=>{\n            console.error(\"Failed to run migrations:\", error);\n            pool = null;\n            throw error;\n        });\n        return pool;\n    } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        console.error(`Error initializing database pool for ${branch} branch:`, errorMessage);\n        throw new Error(`Database connection error: ${errorMessage}`);\n    }\n}\n/**\n * Execute a SQL query on the database with retry logic\n */ async function query(text, params = [], retryCount = 0) {\n    const MAX_RETRIES = 2;\n    const start = Date.now();\n    try {\n        const currentPool = createPool();\n        if (!currentPool) {\n            throw new Error(\"Database pool not initialized\");\n        }\n        const res = await currentPool.query(text, params);\n        const duration = Date.now() - start;\n        // Only log if query took longer than 100ms for performance monitoring\n        if (duration > 100) {\n            console.log(\"Slow query detected\", {\n                text: text.substring(0, 50) + (text.length > 50 ? \"...\" : \"\"),\n                duration,\n                rows: res.rowCount\n            });\n        }\n        return res;\n    } catch (error) {\n        const duration = Date.now() - start;\n        // Retry on connection errors, but not on syntax or constraint errors\n        const isConnectionError = error.code === \"ECONNREFUSED\" || error.code === \"ETIMEDOUT\" || error.code === \"08006\" || // connection_failure\n        error.code === \"08001\"; // unable_to_connect\n        if (isConnectionError && retryCount < MAX_RETRIES) {\n            console.warn(`Database connection error, retrying (${retryCount + 1}/${MAX_RETRIES})...`);\n            // Reset pool on connection error\n            pool = null;\n            // Exponential backoff\n            const delay = Math.pow(2, retryCount) * 500;\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n            return query(text, params, retryCount + 1);\n        }\n        console.error(\"Error executing query\", {\n            text: text.substring(0, 100),\n            error: error.message,\n            duration,\n            code: error.code,\n            detail: error.detail,\n            hint: error.hint,\n            position: error.position\n        });\n        throw error;\n    }\n}\n/**\n * Get a client from the pool for transactions\n */ async function getClient() {\n    const currentPool = createPool();\n    if (!currentPool) {\n        throw new Error(\"Database pool not initialized\");\n    }\n    try {\n        const client = await currentPool.connect();\n        return client;\n    } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        console.error(\"Error getting database client:\", errorMessage);\n        throw new Error(`Failed to get database client: ${errorMessage}`);\n    }\n}\n/**\n * Convenient wrapper for transactions\n */ async function withTransaction(callback) {\n    const currentPool = createPool();\n    if (!currentPool) {\n        throw new Error(\"Database pool not initialized\");\n    }\n    const client = await currentPool.connect();\n    try {\n        await client.query(\"BEGIN\");\n        const result = await callback(client);\n        await client.query(\"COMMIT\");\n        return result;\n    } catch (error) {\n        await client.query(\"ROLLBACK\");\n        console.error(\"Transaction error:\", error);\n        throw error;\n    } finally{\n        client.release();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFyQixNQUFNOEIsT0FBTyxHQUFHQyxPQUFPL0I7UUFDckVDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0M2QjtRQUNoRCxNQUFNLElBQUlSLE1BQU0sQ0FBQywrQkFBK0IsRUFBRVEsYUFBYSxDQUFDO0lBQ2xFO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVnQyxnQkFBbUJDLFFBQXFDO0lBQzVFLE1BQU12QixjQUFjcEI7SUFDcEIsSUFBSSxDQUFDb0IsYUFBYTtRQUNoQixNQUFNLElBQUlsQixNQUFNO0lBQ2xCO0lBRUEsTUFBTXNDLFNBQVMsTUFBTXBCLFlBQVlxQixPQUFPO0lBRXhDLElBQUk7UUFDRixNQUFNRCxPQUFPekMsS0FBSyxDQUFDO1FBQ25CLE1BQU02QyxTQUFTLE1BQU1ELFNBQVNIO1FBQzlCLE1BQU1BLE9BQU96QyxLQUFLLENBQUM7UUFDbkIsT0FBTzZDO0lBQ1QsRUFBRSxPQUFPL0QsT0FBTztRQUNkLE1BQU0yRCxPQUFPekMsS0FBSyxDQUFDO1FBQ25CakIsUUFBUUQsS0FBSyxDQUFDLHNCQUFzQkE7UUFDcEMsTUFBTUE7SUFDUixTQUFVO1FBQ1IyRCxPQUFPSyxPQUFPO0lBQ2hCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aW1iZXJsaW5lLWxvZ2lzdGljcy1kYXNoYm9hcmQvLi9saWIvZGIvaW5kZXgudHM/NmY5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sIH0gZnJvbSAncGcnXG5cbi8vIFBhcnNlIGNvbm5lY3Rpb24gc3RyaW5nIHRvIGV4cGxpY2l0IGNvbmZpZ1xuZnVuY3Rpb24gcGFyc2VDb25uZWN0aW9uU3RyaW5nKGNvbm5lY3Rpb25TdHJpbmc6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoY29ubmVjdGlvblN0cmluZylcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogdXJsLnVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IHVybC5wYXNzd29yZCxcbiAgICAgIGhvc3Q6IHVybC5ob3N0bmFtZSxcbiAgICAgIHBvcnQ6IE51bWJlcih1cmwucG9ydCkgfHwgNTQzMixcbiAgICAgIGRhdGFiYXNlOiB1cmwucGF0aG5hbWUuc2xpY2UoMSksXG4gICAgICBzc2w6IHRydWVcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBjb25uZWN0aW9uIHN0cmluZzonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8vIERhdGFiYXNlIGNvbmZpZ3VyYXRpb25cbmNvbnN0IGNvbmZpZyA9IHtcbiAgcHJldmlldzogcGFyc2VDb25uZWN0aW9uU3RyaW5nKFwicG9zdGdyZXNxbDovL25lb25kYl9vd25lcjpucGdfRDVoajFlZ1BsQW9rQGVwLXByb3VkLWdsaXR0ZXItYTg1cGJyejYtcG9vbGVyLmVhc3R1czIuYXp1cmUubmVvbi50ZWNoL25lb25kYj9zc2xtb2RlPXJlcXVpcmVcIiksXG4gIG1haW46IHBhcnNlQ29ubmVjdGlvblN0cmluZyhcInBvc3RncmVzcWw6Ly9uZW9uZGJfb3duZXI6bnBnX0Q1aGoxZWdQbEFva0BlcC1jYWxtLWZyb2ctYThxeHlvOG8tcG9vbGVyLmVhc3R1czIuYXp1cmUubmVvbi50ZWNoL25lb25kYj9zc2xtb2RlPXJlcXVpcmVcIilcbn1cblxuLy8gRGV0ZXJtaW5lIHdoaWNoIGRhdGFiYXNlIGJyYW5jaCB0byB1c2UgYmFzZWQgb24gZW52aXJvbm1lbnRcbmNvbnN0IGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbidcbmNvbnN0IGJyYW5jaCA9IGlzUHJvZHVjdGlvbiA/ICdtYWluJyA6ICdwcmV2aWV3J1xuXG5jb25zb2xlLmxvZyhgVXNpbmcgZGF0YWJhc2UgYnJhbmNoOiAke2JyYW5jaH1gKTtcbmNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25maWc6Jywge1xuICBob3N0OiBjb25maWdbYnJhbmNoXS5ob3N0LFxuICBwb3J0OiBjb25maWdbYnJhbmNoXS5wb3J0LFxuICBkYXRhYmFzZTogY29uZmlnW2JyYW5jaF0uZGF0YWJhc2UsXG4gIHVzZXI6IGNvbmZpZ1ticmFuY2hdLnVzZXIsXG4gIC8vIHBhc3N3b3JkIGlzIG1hc2tlZCBmb3Igc2VjdXJpdHlcbiAgc3NsOiBjb25maWdbYnJhbmNoXS5zc2xcbn0pO1xuXG4vLyBDb25uZWN0aW9uIHBvb2wgc2V0dGluZ3NcbmNvbnN0IENPTk5FQ1RJT05fVElNRU9VVF9NUyA9IDEwMDAwXG5jb25zdCBJRExFX1RJTUVPVVRfTVMgPSAzMDAwMFxuY29uc3QgTUFYX1BPT0xfU0laRSA9IDIwXG5jb25zdCBDT05ORUNUSU9OX1JFVFJZX0FUVEVNUFRTID0gM1xuY29uc3QgQ09OTkVDVElPTl9SRVRSWV9ERUxBWV9NUyA9IDEwMDBcblxuLy8gQ3JlYXRlIGEgY29ubmVjdGlvbiBwb29sIHdpdGggZW5oYW5jZWQgc2V0dGluZ3NcbmxldCBwb29sOiBQb29sIHwgbnVsbCA9IG51bGxcblxuLy8gTWlncmF0aW9uIFNRTFxuY29uc3QgTUlHUkFUSU9OUyA9IFtcbiAgYFxuICAtLSBGaXggc3RhY2sgY29sdW1ucyBpbiB0cmFpbGVyX2xheW91dF9pdGVtc1xuICBBTFRFUiBUQUJMRSB0cmFpbGVyX2xheW91dF9pdGVtc1xuICBEUk9QIENPTlNUUkFJTlQgSUYgRVhJU1RTIGZrX3RyYWlsZXJfbGF5b3V0X2l0ZW1zX3N0YWNrO1xuXG4gIEFMVEVSIFRBQkxFIHRyYWlsZXJfbGF5b3V0X2l0ZW1zXG4gIERST1AgQ09OU1RSQUlOVCBJRiBFWElTVFMgY2hlY2tfc3RhY2tfcG9zaXRpb247XG5cbiAgQUxURVIgVEFCTEUgdHJhaWxlcl9sYXlvdXRfaXRlbXNcbiAgRFJPUCBDT05TVFJBSU5UIElGIEVYSVNUUyBjaGVja19zdGFja19pZF92aW55bDtcblxuICAtLSBFbnN1cmUgdGhlIGNvbHVtbnMgZXhpc3Qgd2l0aCBjb3JyZWN0IHR5cGVzXG4gIEFMVEVSIFRBQkxFIHRyYWlsZXJfbGF5b3V0X2l0ZW1zXG4gIERST1AgQ09MVU1OIElGIEVYSVNUUyBzdGFja19pZDtcblxuICBBTFRFUiBUQUJMRSB0cmFpbGVyX2xheW91dF9pdGVtc1xuICBEUk9QIENPTFVNTiBJRiBFWElTVFMgc3RhY2tfcG9zaXRpb247XG5cbiAgQUxURVIgVEFCTEUgdHJhaWxlcl9sYXlvdXRfaXRlbXNcbiAgQUREIENPTFVNTiBzdGFja19pZCBJTlRFR0VSLFxuICBBREQgQ09MVU1OIHN0YWNrX3Bvc2l0aW9uIElOVEVHRVI7XG5cbiAgLS0gQWRkIGluZGV4IGZvciBzdGFjay1yZWxhdGVkIHF1ZXJpZXNcbiAgRFJPUCBJTkRFWCBJRiBFWElTVFMgaWR4X2xheW91dF9pdGVtc19zdGFjaztcbiAgQ1JFQVRFIElOREVYIGlkeF9sYXlvdXRfaXRlbXNfc3RhY2sgT04gdHJhaWxlcl9sYXlvdXRfaXRlbXMoc3RhY2tfaWQsIHN0YWNrX3Bvc2l0aW9uKTtcblxuICAtLSBBZGQgY29uc3RyYWludCB0byBlbnN1cmUgc3RhY2tfcG9zaXRpb24gaXMgcG9zaXRpdmUgd2hlbiBwcmVzZW50XG4gIEFMVEVSIFRBQkxFIHRyYWlsZXJfbGF5b3V0X2l0ZW1zXG4gIEFERCBDT05TVFJBSU5UIGNoZWNrX3N0YWNrX3Bvc2l0aW9uIFxuICBDSEVDSyAoc3RhY2tfcG9zaXRpb24gSVMgTlVMTCBPUiBzdGFja19wb3NpdGlvbiA+IDApO1xuXG4gIC0tIEFkZCBjb25zdHJhaW50IHRvIGVuc3VyZSBzdGFja19pZCBhbmQgc3RhY2tfcG9zaXRpb24gYXJlIHVzZWQgdG9nZXRoZXJcbiAgQUxURVIgVEFCTEUgdHJhaWxlcl9sYXlvdXRfaXRlbXNcbiAgQUREIENPTlNUUkFJTlQgY2hlY2tfc3RhY2tfY29uc2lzdGVuY3lcbiAgQ0hFQ0sgKFxuICAgICAgKHN0YWNrX2lkIElTIE5VTEwgQU5EIHN0YWNrX3Bvc2l0aW9uIElTIE5VTEwpIE9SXG4gICAgICAoc3RhY2tfaWQgSVMgTk9UIE5VTEwgQU5EIHN0YWNrX3Bvc2l0aW9uIElTIE5PVCBOVUxMKVxuICApO1xuICBgXG5dXG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bk1pZ3JhdGlvbnMocG9vbDogUG9vbCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nIGRhdGFiYXNlIG1pZ3JhdGlvbnMuLi4nKVxuICAgIGZvciAoY29uc3QgbWlncmF0aW9uIG9mIE1JR1JBVElPTlMpIHtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkobWlncmF0aW9uKVxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgbWlncmF0aW9ucyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBydW5uaW5nIG1pZ3JhdGlvbnM6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb29sKCkge1xuICBpZiAocG9vbCkgcmV0dXJuIHBvb2w7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBicmFuY2hDb25maWcgPSBjb25maWdbYnJhbmNoXVxuICAgIGlmICghYnJhbmNoQ29uZmlnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIGJyYW5jaDogJHticmFuY2h9YClcbiAgICB9XG5cbiAgICBwb29sID0gbmV3IFBvb2woe1xuICAgICAgLi4uYnJhbmNoQ29uZmlnLFxuICAgICAgY29ubmVjdGlvblRpbWVvdXRNaWxsaXM6IENPTk5FQ1RJT05fVElNRU9VVF9NUyxcbiAgICAgIGlkbGVUaW1lb3V0TWlsbGlzOiBJRExFX1RJTUVPVVRfTVMsXG4gICAgICBtYXg6IE1BWF9QT09MX1NJWkUsXG4gICAgICAvLyBGb3JjZSBTU0wgbW9kZVxuICAgICAgc3NsOiB7XG4gICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgLy8gSGFuZGxlIHBvb2wgZXJyb3JzXG4gICAgcG9vbC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIG9uIGlkbGUgY2xpZW50JywgZXJyKVxuICAgICAgLy8gUmVzZXQgcG9vbCBvbiBlcnJvclxuICAgICAgcG9vbCA9IG51bGxcbiAgICB9KVxuXG4gICAgLy8gQWRkIGNvbm5lY3Rpb24gbG9nZ2luZ1xuICAgIHBvb2wub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnTmV3IGRhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnKVxuICAgIH0pXG5cbiAgICBwb29sLm9uKCdhY3F1aXJlJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NsaWVudCBhY3F1aXJlZCBmcm9tIHBvb2wnKVxuICAgIH0pXG5cbiAgICBwb29sLm9uKCdyZW1vdmUnLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnQ2xpZW50IHJlbW92ZWQgZnJvbSBwb29sJylcbiAgICB9KVxuXG4gICAgLy8gUnVuIG1pZ3JhdGlvbnNcbiAgICBydW5NaWdyYXRpb25zKHBvb2wpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBydW4gbWlncmF0aW9uczonLCBlcnJvcilcbiAgICAgIHBvb2wgPSBudWxsXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH0pXG5cbiAgICByZXR1cm4gcG9vbFxuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluaXRpYWxpemluZyBkYXRhYmFzZSBwb29sIGZvciAke2JyYW5jaH0gYnJhbmNoOmAsIGVycm9yTWVzc2FnZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFiYXNlIGNvbm5lY3Rpb24gZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApXG4gIH1cbn1cblxuLyoqXG4gKiBFeGVjdXRlIGEgU1FMIHF1ZXJ5IG9uIHRoZSBkYXRhYmFzZSB3aXRoIHJldHJ5IGxvZ2ljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeSh0ZXh0OiBzdHJpbmcsIHBhcmFtczogYW55W10gPSBbXSwgcmV0cnlDb3VudCA9IDApIHtcbiAgY29uc3QgTUFYX1JFVFJJRVMgPSAyXG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50UG9vbCA9IGNyZWF0ZVBvb2woKVxuICAgIGlmICghY3VycmVudFBvb2wpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgcG9vbCBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjdXJyZW50UG9vbC5xdWVyeSh0ZXh0LCBwYXJhbXMpXG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRcbiAgICBcbiAgICAvLyBPbmx5IGxvZyBpZiBxdWVyeSB0b29rIGxvbmdlciB0aGFuIDEwMG1zIGZvciBwZXJmb3JtYW5jZSBtb25pdG9yaW5nXG4gICAgaWYgKGR1cmF0aW9uID4gMTAwKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2xvdyBxdWVyeSBkZXRlY3RlZCcsIHsgXG4gICAgICAgIHRleHQ6IHRleHQuc3Vic3RyaW5nKDAsIDUwKSArICh0ZXh0Lmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJyksIFxuICAgICAgICBkdXJhdGlvbiwgXG4gICAgICAgIHJvd3M6IHJlcy5yb3dDb3VudCBcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXNcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0XG4gICAgXG4gICAgLy8gUmV0cnkgb24gY29ubmVjdGlvbiBlcnJvcnMsIGJ1dCBub3Qgb24gc3ludGF4IG9yIGNvbnN0cmFpbnQgZXJyb3JzXG4gICAgY29uc3QgaXNDb25uZWN0aW9uRXJyb3IgPSBlcnJvci5jb2RlID09PSAnRUNPTk5SRUZVU0VEJyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9PT0gJ0VUSU1FRE9VVCcgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPT09ICcwODAwNicgfHwgLy8gY29ubmVjdGlvbl9mYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPT09ICcwODAwMSc7ICAgLy8gdW5hYmxlX3RvX2Nvbm5lY3RcbiAgICBcbiAgICBpZiAoaXNDb25uZWN0aW9uRXJyb3IgJiYgcmV0cnlDb3VudCA8IE1BWF9SRVRSSUVTKSB7XG4gICAgICBjb25zb2xlLndhcm4oYERhdGFiYXNlIGNvbm5lY3Rpb24gZXJyb3IsIHJldHJ5aW5nICgke3JldHJ5Q291bnQgKyAxfS8ke01BWF9SRVRSSUVTfSkuLi5gKVxuICAgICAgLy8gUmVzZXQgcG9vbCBvbiBjb25uZWN0aW9uIGVycm9yXG4gICAgICBwb29sID0gbnVsbFxuICAgICAgLy8gRXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLnBvdygyLCByZXRyeUNvdW50KSAqIDUwMFxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSlcbiAgICAgIHJldHVybiBxdWVyeSh0ZXh0LCBwYXJhbXMsIHJldHJ5Q291bnQgKyAxKVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleGVjdXRpbmcgcXVlcnknLCB7IFxuICAgICAgdGV4dDogdGV4dC5zdWJzdHJpbmcoMCwgMTAwKSwgXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgIGRldGFpbDogZXJyb3IuZGV0YWlsLFxuICAgICAgaGludDogZXJyb3IuaGludCxcbiAgICAgIHBvc2l0aW9uOiBlcnJvci5wb3NpdGlvblxuICAgIH0pXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG4vKipcbiAqIEdldCBhIGNsaWVudCBmcm9tIHRoZSBwb29sIGZvciB0cmFuc2FjdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENsaWVudCgpIHtcbiAgY29uc3QgY3VycmVudFBvb2wgPSBjcmVhdGVQb29sKClcbiAgaWYgKCFjdXJyZW50UG9vbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgcG9vbCBub3QgaW5pdGlhbGl6ZWQnKVxuICB9XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGN1cnJlbnRQb29sLmNvbm5lY3QoKVxuICAgIHJldHVybiBjbGllbnRcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGRhdGFiYXNlIGNsaWVudDonLCBlcnJvck1lc3NhZ2UpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IGRhdGFiYXNlIGNsaWVudDogJHtlcnJvck1lc3NhZ2V9YClcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlbmllbnQgd3JhcHBlciBmb3IgdHJhbnNhY3Rpb25zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoVHJhbnNhY3Rpb248VD4oY2FsbGJhY2s6IChjbGllbnQ6IGFueSkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICBjb25zdCBjdXJyZW50UG9vbCA9IGNyZWF0ZVBvb2woKVxuICBpZiAoIWN1cnJlbnRQb29sKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBwb29sIG5vdCBpbml0aWFsaXplZCcpXG4gIH1cbiAgXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGN1cnJlbnRQb29sLmNvbm5lY3QoKVxuICBcbiAgdHJ5IHtcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoJ0JFR0lOJylcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsYmFjayhjbGllbnQpXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdDT01NSVQnKVxuICAgIHJldHVybiByZXN1bHRcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoJ1JPTExCQUNLJylcbiAgICBjb25zb2xlLmVycm9yKCdUcmFuc2FjdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9IGZpbmFsbHkge1xuICAgIGNsaWVudC5yZWxlYXNlKClcbiAgfVxufSAiXSwibmFtZXMiOlsiUG9vbCIsInBhcnNlQ29ubmVjdGlvblN0cmluZyIsImNvbm5lY3Rpb25TdHJpbmciLCJ1cmwiLCJVUkwiLCJ1c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImhvc3QiLCJob3N0bmFtZSIsInBvcnQiLCJOdW1iZXIiLCJkYXRhYmFzZSIsInBhdGhuYW1lIiwic2xpY2UiLCJzc2wiLCJlcnJvciIsImNvbnNvbGUiLCJjb25maWciLCJwcmV2aWV3IiwibWFpbiIsImlzUHJvZHVjdGlvbiIsInByb2Nlc3MiLCJicmFuY2giLCJsb2ciLCJDT05ORUNUSU9OX1RJTUVPVVRfTVMiLCJJRExFX1RJTUVPVVRfTVMiLCJNQVhfUE9PTF9TSVpFIiwiQ09OTkVDVElPTl9SRVRSWV9BVFRFTVBUUyIsIkNPTk5FQ1RJT05fUkVUUllfREVMQVlfTVMiLCJwb29sIiwiTUlHUkFUSU9OUyIsInJ1bk1pZ3JhdGlvbnMiLCJtaWdyYXRpb24iLCJxdWVyeSIsImNyZWF0ZVBvb2wiLCJicmFuY2hDb25maWciLCJFcnJvciIsImNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzIiwiaWRsZVRpbWVvdXRNaWxsaXMiLCJtYXgiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJvbiIsImVyciIsImNhdGNoIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIlN0cmluZyIsInRleHQiLCJwYXJhbXMiLCJyZXRyeUNvdW50IiwiTUFYX1JFVFJJRVMiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJjdXJyZW50UG9vbCIsInJlcyIsImR1cmF0aW9uIiwic3Vic3RyaW5nIiwibGVuZ3RoIiwicm93cyIsInJvd0NvdW50IiwiaXNDb25uZWN0aW9uRXJyb3IiLCJjb2RlIiwid2FybiIsImRlbGF5IiwiTWF0aCIsInBvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImRldGFpbCIsImhpbnQiLCJwb3NpdGlvbiIsImdldENsaWVudCIsImNsaWVudCIsImNvbm5lY3QiLCJ3aXRoVHJhbnNhY3Rpb24iLCJjYWxsYmFjayIsInJlc3VsdCIsInJlbGVhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/date-fns","vendor-chunks/@neondatabase","vendor-chunks/jose","vendor-chunks/ws","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/@vercel","vendor-chunks/node-gyp-build","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/bufferutil"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fschedule-notes%2Froute&page=%2Fapi%2Fschedule-notes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fschedule-notes%2Froute.ts&appDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Freeceschlabach%2FDesktop%2FTimberline%20Internal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();